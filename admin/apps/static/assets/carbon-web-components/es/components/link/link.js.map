{"version":3,"sources":["components/link/link.ts"],"names":["classMap","html","property","customElement","LitElement","query","settings","ifNonNull","FocusMixin","styles","prefix","LINK_SIZE","BXLink","target","name","hasContent","assignedNodes","some","node","nodeType","Node","TEXT_NODE","textContent","trim","requestUpdate","disabled","size","_","_hasIcon","hasIcon","_handleSlotChange","handleSlotChange","_classes","classes","_renderInner","download","href","hreflang","linkRole","ping","rel","type","_handleClick","handleClick","Boolean","reflect","attribute","REGULAR","attachShadow","mode","delegatesFocus","Number","exec","navigator","userAgent","_renderDisabledLink","_renderLink"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,QAAT,QAAyB,+BAAzB;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,aAAzB,EAAwCC,UAAxC,EAAoDC,KAApD,QAAiE,aAAjE;AACA,OAAOC,QAAP,MAAqB,0CAArB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAaJ,QAAnB;AAEA;AACA;AACA;;AACA,WAAYK,SAAZ;AAiBA;AACA;AACA;AACA;AACA;;WArBYA,S;AAAAA,EAAAA,S;AAAAA,EAAAA,S;AAAAA,EAAAA,S;GAAAA,S,KAAAA,S;;IAuBNC,M,cADLT,aAAa,CAAE,GAAEO,MAAO,OAAX,C;AAAd,QACME,MADN,qBAC4C;AAAA;AAAA;;AAAA;AAAA;;AAAA;;;OAAtCA,M;;;;;;eAIe,K;;;;;;;AAHnB;AACF;AACA;;AAGE;AACF;AACA;AACE,iCAA4B;AAAEC,QAAAA;AAAF,OAA5B,EAA+C;AAC7C,cAAM;AAAEC,UAAAA;AAAF,YAAWD,MAAjB;AACA,cAAME,UAAU,GAAIF,MAAD,CAChBG,aADgB,GAEhBC,IAFgB,CAEXC,IAAI,IAAIA,IAAI,CAACC,QAAL,KAAkBC,IAAI,CAACC,SAAvB,IAAoCH,IAAI,CAAEI,WAAN,CAAmBC,IAAnB,EAFjC,CAAnB;AAGA,aAAKT,IAAI,KAAK,MAAT,GAAkB,UAAlB,GAA+B,EAApC,IAA0CC,UAA1C;AACA,aAAKS,aAAL;AACD;;;mBAEAnB,KAAK,CAAC,OAAD,C;;;;;;;AAGN;AACF;AACA;AACE,0BAAyB;AACvB,cAAM;AAAEoB,UAAAA,QAAF;AAAYC,UAAAA;AAAZ,YAAqB,IAA3B;AACA,eAAO1B,QAAQ,CAAC;AACd,WAAE,GAAEU,MAAO,QAAX,GAAqB,IADP;AAEd,WAAE,GAAEA,MAAO,kBAAX,GAA+Be,QAFjB;AAGd,WAAE,GAAEf,MAAO,WAAUgB,IAAK,EAA1B,GAA8BA;AAHhB,SAAD,CAAf;AAKD;AAED;AACF;AACA;AACE;;;;;aACA,sBAAuBC,CAAvB,EAAsC,CAAE;AAExC;AACF;AACA;AACE;;;;;aACA,wBAAyB;AACvB,cAAM;AAAEC,UAAAA,QAAQ,EAAEC,OAAZ;AAAqBC,UAAAA,iBAAiB,EAAEC;AAAxC,YAA6D,IAAnE;AACA,eAAO9B,IAAP,sJACuB8B,gBADvB,EAEkB,CAACF,OAFnB,EAEsCnB,MAFtC,EAE4FqB,gBAF5F;AAID;AAED;AACF;AACA;;;;;aACE,+BAAgC;AAC9B,cAAM;AAAEC,UAAAA,QAAQ,EAAEC;AAAZ,YAAwB,IAA9B;AACA,eAAOhC,IAAP,sEAA+CgC,OAA/C,EAA2D,KAAKC,YAAL,EAA3D;AACD;AAED;AACF;AACA;;;;;aACE,uBAAwB;AACtB,cAAM;AAAEC,UAAAA,QAAF;AAAYC,UAAAA,IAAZ;AAAkBC,UAAAA,QAAlB;AAA4BC,UAAAA,QAA5B;AAAsCC,UAAAA,IAAtC;AAA4CC,UAAAA,GAA5C;AAAiD3B,UAAAA,MAAjD;AAAyD4B,UAAAA,IAAzD;AAA+DT,UAAAA,QAAQ,EAAEC,OAAzE;AAAkFS,UAAAA,YAAY,EAAEC;AAAhG,YAAgH,IAAtH;AACA,eAAO1C,IAAP,+LAGYM,SAAS,CAAC+B,QAAD,CAHrB,EAIaL,OAJb,EAMgB1B,SAAS,CAAC4B,QAAD,CANzB,EAOY5B,SAAS,CAAC6B,IAAD,CAPrB,EAQgB7B,SAAS,CAAC8B,QAAD,CARzB,EASY9B,SAAS,CAACgC,IAAD,CATrB,EAUWhC,SAAS,CAACiC,GAAD,CAVpB,EAWcjC,SAAS,CAACM,MAAD,CAXvB,EAYYN,SAAS,CAACkC,IAAD,CAZrB,EAacE,WAbd,EAcM,KAAKT,YAAL,EAdN;AAiBD;AAED;AACF;AACA;;;;mBACGhC,QAAQ,CAAC;AAAEuC,QAAAA,IAAI,EAAEG,OAAR;AAAiBC,QAAAA,OAAO,EAAE;AAA1B,OAAD,C;;;;eACE,K;;;;;mBAKV3C,QAAQ,CAAC;AAAE2C,QAAAA,OAAO,EAAE;AAAX,OAAD,C;;;;;mBAMR3C,QAAQ,CAAC;AAAE2C,QAAAA,OAAO,EAAE;AAAX,OAAD,C;;;;;mBAMR3C,QAAQ,CAAC;AAAE2C,QAAAA,OAAO,EAAE;AAAX,OAAD,C;;;;;mBAMR3C,QAAQ,CAAC;AAAE4C,QAAAA,SAAS,EAAE;AAAb,OAAD,C;;;;;mBAMR5C,QAAQ,CAAC;AAAE2C,QAAAA,OAAO,EAAE;AAAX,OAAD,C;;;;;mBAMR3C,QAAQ,CAAC;AAAE2C,QAAAA,OAAO,EAAE;AAAX,OAAD,C;;;;;mBAMR3C,QAAQ,CAAC;AAAE2C,QAAAA,OAAO,EAAE;AAAX,OAAD,C;;;;eACFlC,SAAS,CAACoC,O;;;;;mBAKhB7C,QAAQ,CAAC;AAAE2C,QAAAA,OAAO,EAAE;AAAX,OAAD,C;;;;;mBAMR3C,QAAQ,CAAC;AAAE2C,QAAAA,OAAO,EAAE;AAAX,OAAD,C;;;;;;;AAnDT;AACF;AACA;;AAIE;AACF;AACA;;AAIE;AACF;AACA;;AAIE;AACF;AACA;;AAIE;AACF;AACA;;AAIE;AACF;AACA;;AAIE;AACF;AACA;;AAIE;AACF;AACA;;AAIE;AACF;AACA;AAIE,kCAAmB;AAAA;;AACjB,eAAO,KAAKG,YAAL,CAAkB;AACvBC,UAAAA,IAAI,EAAE,MADiB;AAEvBC,UAAAA,cAAc,EAAEC,MAAM,CAAC,WAAC,gBAAgBC,IAAhB,CAAqBC,SAAS,CAACC,SAA/B,CAAD,2CAA8C,CAAC,EAAD,EAAK,CAAL,CAA9C,EAAuD,CAAvD,CAAD,CAAN,IAAqE;AAF9D,SAAlB,CAAP;AAID;;;;aAED,kBAAS;AACP,cAAM;AAAE7B,UAAAA;AAAF,YAAe,IAArB;AACA,eAAOA,QAAQ,GAAG,KAAK8B,mBAAL,EAAH,GAAgC,KAAKC,WAAL,EAA/C;AACD;;;;;;;eAEe/C,M;;;;;GA3JGD,UAAU,CAACJ,UAAD,C;;AA8J/B,eAAeQ,MAAf","sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2021\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { classMap } from 'lit-html/directives/class-map';\nimport { html, property, customElement, LitElement, query } from 'lit-element';\nimport settings from 'carbon-components/es/globals/js/settings';\nimport ifNonNull from '../../globals/directives/if-non-null';\nimport FocusMixin from '../../globals/mixins/focus';\nimport styles from './link.scss';\n\nconst { prefix } = settings;\n\n/**\n * Link size.\n */\nexport enum LINK_SIZE {\n  /**\n   * Regular size\n   */\n  REGULAR = '',\n\n  /**\n   * Small size.\n   */\n  SMALL = 'sm',\n\n  /**\n   * Large size.\n   */\n  LARGE = 'lg',\n}\n\n/**\n * Link.\n * @element bx-link\n * @csspart link The link.\n */\n@customElement(`${prefix}-link`)\nclass BXLink extends FocusMixin(LitElement) {\n  /**\n   * `true` if there is an icon.\n   */\n  private _hasIcon = false;\n\n  /**\n   * Handles `slotchange` event.\n   */\n  protected _handleSlotChange({ target }: Event) {\n    const { name } = target as HTMLSlotElement;\n    const hasContent = (target as HTMLSlotElement)\n      .assignedNodes()\n      .some(node => node.nodeType !== Node.TEXT_NODE || node!.textContent!.trim());\n    this[name === 'icon' ? '_hasIcon' : ''] = hasContent;\n    this.requestUpdate();\n  }\n\n  @query('#link')\n  protected _linkNode?: HTMLAnchorElement | HTMLParagraphElement;\n\n  /**\n   * The CSS class list for the link node.\n   */\n  protected get _classes() {\n    const { disabled, size } = this;\n    return classMap({\n      [`${prefix}--link`]: true,\n      [`${prefix}--link--disabled`]: disabled,\n      [`${prefix}--link--${size}`]: size,\n    });\n  }\n\n  /**\n   * Handles `click` event on the `<a>`.\n   */\n  // eslint-disable-next-line class-methods-use-this, @typescript-eslint/no-unused-vars\n  protected _handleClick(_: MouseEvent) {}\n\n  /**\n   * @returns The inner content.\n   */\n  // eslint-disable-next-line class-methods-use-this\n  protected _renderInner() {\n    const { _hasIcon: hasIcon, _handleSlotChange: handleSlotChange } = this;\n    return html`\n      <slot @slotchange=\"${handleSlotChange}\"></slot>\n      <div ?hidden=\"${!hasIcon}\" class=\"${prefix}--link__icon\"><slot name=\"icon\" @slotchange=\"${handleSlotChange}\"></slot></div>\n    `;\n  }\n\n  /**\n   * @returns The disabled link content.\n   */\n  protected _renderDisabledLink() {\n    const { _classes: classes } = this;\n    return html` <p id=\"link\" part=\"link\" class=\"${classes}\">${this._renderInner()}</p> `;\n  }\n\n  /**\n   * @returns The link content.\n   */\n  protected _renderLink() {\n    const { download, href, hreflang, linkRole, ping, rel, target, type, _classes: classes, _handleClick: handleClick } = this;\n    return html`\n      <a\n        id=\"link\"\n        role=\"${ifNonNull(linkRole)}\"\n        class=\"${classes}\"\n        part=\"link\"\n        download=\"${ifNonNull(download)}\"\n        href=\"${ifNonNull(href)}\"\n        hreflang=\"${ifNonNull(hreflang)}\"\n        ping=\"${ifNonNull(ping)}\"\n        rel=\"${ifNonNull(rel)}\"\n        target=\"${ifNonNull(target)}\"\n        type=\"${ifNonNull(type)}\"\n        @click=\"${handleClick}\">\n        ${this._renderInner()}\n      </a>\n    `;\n  }\n\n  /**\n   * `true` if the button should be disabled.\n   */\n  @property({ type: Boolean, reflect: true })\n  disabled = false;\n\n  /**\n   * The default file name.\n   */\n  @property({ reflect: true })\n  download!: string;\n\n  /**\n   * Link `href`.\n   */\n  @property({ reflect: true })\n  href!: string;\n\n  /**\n   * The language of what `href` points to.\n   */\n  @property({ reflect: true })\n  hreflang!: string;\n\n  /**\n   * The a11y role for `<a>`.\n   */\n  @property({ attribute: 'link-role' })\n  linkRole!: string;\n\n  /**\n   * URLs to ping.\n   */\n  @property({ reflect: true })\n  ping!: string;\n\n  /**\n   * The link type.\n   */\n  @property({ reflect: true })\n  rel!: string;\n\n  /**\n   * Link size.\n   */\n  @property({ reflect: true })\n  size = LINK_SIZE.REGULAR;\n\n  /**\n   * The link target.\n   */\n  @property({ reflect: true })\n  target!: string;\n\n  /**\n   * MIME type of the `target`.\n   */\n  @property({ reflect: true })\n  type!: string;\n\n  createRenderRoot() {\n    return this.attachShadow({\n      mode: 'open',\n      delegatesFocus: Number((/Safari\\/(\\d+)/.exec(navigator.userAgent) ?? ['', 0])[1]) <= 537,\n    });\n  }\n\n  render() {\n    const { disabled } = this;\n    return disabled ? this._renderDisabledLink() : this._renderLink();\n  }\n\n  static styles = styles; // `styles` here is a `CSSResult` generated by custom WebPack loader\n}\n\nexport default BXLink;\n"],"file":"link.js"}