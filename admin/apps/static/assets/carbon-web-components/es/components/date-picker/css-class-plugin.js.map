{"version":3,"sources":["components/date-picker/css-class-plugin.ts"],"names":["forEach","config","fp","ensureClassesInDatePicker","calendarContainer","selectedDates","classCalendarContainer","classMonth","classWeekdays","classDays","classWeekday","classDay","classNoBorder","selectorFlatpickrMonth","selectorFlatpickrWeekdays","selectorFlatpickrDays","selectorFlatpickrWeekday","selectorFlatpickrDay","classFlatpickrToday","classList","add","month","querySelector","weekdays","days","querySelectorAll","item","innerHTML","replace","contains","length","remove","register","loadedPlugins","push","onMonthChange","onYearChange","onValueUpdate","onOpen","onReady"],"mappings":"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","sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2021\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { Instance as FlatpickrInstance } from 'flatpickr/dist/types/instance';\nimport { Plugin } from 'flatpickr/dist/types/options';\nimport { forEach } from '../../globals/internal/collection-helpers';\n\n/**\n * The configuration for the Flatpickr plugin to set CSS classes specific to this design system.\n */\nexport interface DatePickerCSSClassPluginConfig {\n  /**\n   * The CSS class for the calendar dropdown.\n   */\n  classCalendarContainer: string;\n\n  /**\n   * The CSS class for the month navigator.\n   */\n  classMonth: string;\n\n  /**\n   * The CSS class for the container of the weekdays.\n   */\n  classWeekdays: string;\n\n  /**\n   * The CSS class for the container of the days.\n   */\n  classDays: string;\n\n  /**\n   * The CSS class applied to each weekdays.\n   */\n  classWeekday: string;\n\n  /**\n   * The CSS class applied to each days.\n   */\n  classDay: string;\n\n  /**\n   * The CSS class applied to the \"today\" highlight if there are any dates selected.\n   */\n  classNoBorder: string;\n\n  /**\n   * The CSS selector for Flatpickr's month navigator.\n   */\n  selectorFlatpickrMonth: string;\n\n  /**\n   * The CSS selector for Flatpickr's container of the weekdays.\n   */\n  selectorFlatpickrWeekdays: string;\n\n  /**\n   * The CSS selector for Flatpickr's container of the days.\n   */\n  selectorFlatpickrDays: string;\n\n  /**\n   * The CSS selector applied to Flatpickr's each weekdays.\n   */\n  selectorFlatpickrWeekday: string;\n\n  /**\n   * The CSS selector applied to Flatpickr's each days.\n   */\n  selectorFlatpickrDay: string;\n\n  /**\n   * The CSS class applied to Flatpickr's \"today\" highlight.\n   */\n  classFlatpickrToday: string;\n}\n\n/**\n * @param config Plugin configuration.\n * @returns A Flatpickr plugin to set CSS classes specific to this design system.\n */\nexport default (config: DatePickerCSSClassPluginConfig): Plugin =>\n  (fp: FlatpickrInstance) => {\n    /**\n     * Adds class names specific to our design system to calendar dropdown.\n     */\n    const ensureClassesInDatePicker = () => {\n      const { calendarContainer, selectedDates } = fp;\n      if (calendarContainer) {\n        const {\n          classCalendarContainer,\n          classMonth,\n          classWeekdays,\n          classDays,\n          classWeekday,\n          classDay,\n          classNoBorder,\n          selectorFlatpickrMonth,\n          selectorFlatpickrWeekdays,\n          selectorFlatpickrDays,\n          selectorFlatpickrWeekday,\n          selectorFlatpickrDay,\n          classFlatpickrToday,\n        } = config;\n        calendarContainer.classList.add(classCalendarContainer);\n        const month = calendarContainer.querySelector(selectorFlatpickrMonth);\n        if (month) {\n          month.classList.add(classMonth);\n        }\n        const weekdays = calendarContainer.querySelector(selectorFlatpickrWeekdays);\n        if (weekdays) {\n          weekdays.classList.add(classWeekdays);\n        }\n        const days = calendarContainer.querySelector(selectorFlatpickrDays);\n        if (days) {\n          days.classList.add(classDays);\n        }\n        forEach(calendarContainer.querySelectorAll(selectorFlatpickrWeekday), item => {\n          item.innerHTML = item.innerHTML.replace(/\\s+/g, '');\n          item.classList.add(classWeekday);\n        });\n        forEach(calendarContainer.querySelectorAll(selectorFlatpickrDay), item => {\n          item.classList.add(classDay);\n          if (item.classList.contains(classFlatpickrToday) && selectedDates!.length > 0) {\n            item.classList.add(classNoBorder);\n          } else if (item.classList.contains(classFlatpickrToday) && selectedDates!.length === 0) {\n            item.classList.remove(classNoBorder);\n          }\n        });\n      }\n    };\n\n    /**\n     * Registers this Flatpickr plugin.\n     */\n    const register = () => {\n      fp.loadedPlugins.push('carbonFlatpickrCSSClassPlugin');\n    };\n\n    return {\n      onMonthChange: ensureClassesInDatePicker,\n      onYearChange: ensureClassesInDatePicker,\n      onValueUpdate: ensureClassesInDatePicker,\n      onOpen: ensureClassesInDatePicker,\n      onReady: [register],\n    };\n  };\n"],"file":"css-class-plugin.js"}