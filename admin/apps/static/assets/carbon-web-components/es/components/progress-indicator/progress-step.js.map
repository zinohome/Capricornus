{"version":3,"sources":["components/progress-indicator/progress-step.ts"],"names":["html","svg","property","customElement","LitElement","CheckmarkOutline16","Warning16","settings","spread","FocusMixin","PROGRESS_STEP_STAT","styles","prefix","icons","QUEUED","children","attrs","CURRENT","COMPLETE","INVALID","BXProgressStep","type","Boolean","reflect","attribute","attachShadow","mode","delegatesFocus","Number","exec","navigator","userAgent","hasAttribute","setAttribute","changedProperties","has","String","disabled","iconLabel","labelText","secondaryLabelText","state","class","undefined"],"mappings":"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","sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2021\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { SVGTemplateResult } from 'lit-html';\nimport { html, svg, property, customElement, LitElement } from 'lit-element';\nimport CheckmarkOutline16 from '@carbon/icons/lib/checkmark--outline/16';\nimport Warning16 from '@carbon/icons/lib/warning/16';\nimport settings from 'carbon-components/es/globals/js/settings';\nimport spread from '../../globals/directives/spread';\nimport FocusMixin from '../../globals/mixins/focus';\nimport { PROGRESS_STEP_STAT } from './defs';\nimport styles from './progress-indicator.scss';\n\nexport { PROGRESS_STEP_STAT };\n\nconst { prefix } = settings;\n\n/**\n * Icons, keyed by state.\n */\nconst icons = {\n  [PROGRESS_STEP_STAT.QUEUED]: ({\n    children,\n    attrs = {},\n  }: { children?: SVGTemplateResult; attrs?: { [key: string]: string } } = {}) =>\n    svg`\n      <svg ...=\"${spread(attrs)}\">\n        ${children}\n        <path d=\"M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 13c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z\" />\n      </svg>\n    `,\n  [PROGRESS_STEP_STAT.CURRENT]: ({\n    children,\n    attrs = {},\n  }: { children?: SVGTemplateResult; attrs?: { [key: string]: string } } = {}) =>\n    svg`\n      <svg ...=\"${spread(attrs)}\">\n        ${children}\n        <path d=\"M 7, 7 m -7, 0 a 7,7 0 1,0 14,0 a 7,7 0 1,0 -14,0\" />\n      </svg>\n    `,\n  [PROGRESS_STEP_STAT.COMPLETE]: CheckmarkOutline16,\n  [PROGRESS_STEP_STAT.INVALID]: Warning16,\n};\n\n/**\n * Progress step.\n * @element bx-progress-step\n * @slot secondary-label-text - The secondary progress label.\n */\n@customElement(`${prefix}-progress-step`)\nclass BXProgressStep extends FocusMixin(LitElement) {\n  /**\n   * `true` if the progress step should be disabled.\n   */\n  @property({ type: Boolean, reflect: true })\n  disabled = false;\n\n  /**\n   * The a11y text for the icon.\n   */\n  @property({ attribute: 'icon-label' })\n  iconLabel!: string;\n\n  /**\n   * The primary progress label.\n   */\n  @property({ attribute: 'label-text' })\n  labelText!: string;\n\n  /**\n   * The secondary progress label.\n   */\n  @property({ attribute: 'secondary-label-text' })\n  secondaryLabelText!: string;\n\n  /**\n   * The progress state.\n   */\n  @property()\n  state = PROGRESS_STEP_STAT.QUEUED;\n\n  /**\n   * `true` if the progress step should be vertical.\n   * @private\n   */\n  @property({ type: Boolean, reflect: true })\n  vertical = false;\n\n  createRenderRoot() {\n    return this.attachShadow({\n      mode: 'open',\n      delegatesFocus: Number((/Safari\\/(\\d+)/.exec(navigator.userAgent) ?? ['', 0])[1]) <= 537,\n    });\n  }\n\n  connectedCallback() {\n    if (!this.hasAttribute('role')) {\n      this.setAttribute('role', 'listitem');\n    }\n    super.connectedCallback();\n  }\n\n  updated(changedProperties) {\n    if (changedProperties.has('disabled')) {\n      this.setAttribute('aria-disabled', String(Boolean(this.disabled)));\n    }\n  }\n\n  render() {\n    const { iconLabel, labelText, secondaryLabelText, state } = this;\n    return html`\n      ${icons[state]({\n        class: {\n          [PROGRESS_STEP_STAT.INVALID]: `${prefix}--progress__warning`,\n        }[state],\n        children: !iconLabel ? undefined : svg`<title>${iconLabel}</title>`,\n      })}\n      <slot>\n        <p role=\"button\" class=\"${prefix}--progress-label\" tabindex=\"0\" aria-describedby=\"label-tooltip\">${labelText}</p>\n      </slot>\n      <slot name=\"secondary-label-text\">\n        ${!secondaryLabelText ? undefined : html` <p class=\"${prefix}--progress-optional\">${secondaryLabelText}</p> `}\n      </slot>\n      <span class=\"${prefix}--progress-line\"></span>\n    `;\n  }\n\n  static styles = styles;\n}\n\nexport default BXProgressStep;\n"],"file":"progress-step.js"}