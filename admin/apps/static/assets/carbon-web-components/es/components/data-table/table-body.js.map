{"version":3,"sources":["components/data-table/table-body.ts"],"names":["settings","html","property","query","customElement","LitElement","TABLE_COLOR_SCHEME","styles","prefix","BXTableBody","colorScheme","_slotNode","slotNode","assignedNodes","forEach","node","nodeType","Node","ELEMENT_NODE","odd","matches","even","ZEBRA","_updateZebra","reflect","attribute","REGULAR","hasAttribute","setAttribute","changedProperties","has","_handleSlotChange","handleSlotChange"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,QAAP,MAAqB,0CAArB;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,KAAzB,EAAgCC,aAAhC,EAA+CC,UAA/C,QAAiE,aAAjE;AACA,SAASC,kBAAT,QAAmC,QAAnC;AAEA,OAAOC,MAAP,MAAmB,uBAAnB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAaR,QAAnB;AAEA;AACA;AACA;AACA;;IAEMS,W,cADLL,aAAa,CAAE,GAAEI,MAAO,aAAX,C;AAAd,QACMC,WADN,qBACqC;AAAA;AAAA;;AAAA;AAAA;;AAAA;;;OAA/BA,W;;;mBAIHN,KAAK,CAAC,MAAD,C;;;;;;;AAHN;AACF;AACA;;AAIE;AACF;AACA;AACE,8BAAuB;AACrB,cAAM;AAAEO,UAAAA,WAAF;AAAeC,UAAAA,SAAS,EAAEC;AAA1B,YAAuC,IAA7C;AACAA,QAAAA,QAAQ,CAACC,aAAT,GAAyBC,OAAzB,CAAiCC,IAAI,IAAI;AACvC,cAAIA,IAAI,CAACC,QAAL,KAAkBC,IAAI,CAACC,YAA3B,EAAyC;AACvC,kBAAMC,GAAG,GAAIJ,IAAD,CAAsBK,OAAtB,CAA8B,oBAA9B,CAAZ;AACCL,YAAAA,IAAD,CAAqBM,IAArB,GAA4BX,WAAW,KAAKJ,kBAAkB,CAACgB,KAAnC,IAA4C,CAACH,GAAzE;AACCJ,YAAAA,IAAD,CAAqBI,GAArB,GAA2BT,WAAW,KAAKJ,kBAAkB,CAACgB,KAAnC,IAA4CH,GAAvE;AACD;AACF,SAND;AAOD;AAED;AACF;AACA;;;;;;;eAC8B,MAAM;AAChC,eAAKI,YAAL;AACD,S;;;;;mBAKArB,QAAQ,CAAC;AAAEsB,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,SAAS,EAAE;AAA5B,OAAD,C;;;;eACKnB,kBAAkB,CAACoB,O;;;;;;;AAJjC;AACF;AACA;AAIE,mCAAoB;AAClB,YAAI,CAAC,KAAKC,YAAL,CAAkB,MAAlB,CAAL,EAAgC;AAC9B,eAAKC,YAAL,CAAkB,MAAlB,EAA0B,UAA1B;AACD;;AACD,6BAtCEnB,WAsCF;AACD;;;;aAED,iBAAQoB,iBAAR,EAA2B;AACzB,YAAIA,iBAAiB,CAACC,GAAlB,CAAsB,aAAtB,CAAJ,EAA0C;AACxC,eAAKP,YAAL;AACD;AACF;;;;aAED,kBAAS;AACP,cAAM;AAAEQ,UAAAA,iBAAiB,EAAEC;AAArB,YAA0C,IAAhD;AACA,eAAO/B,IAAP,qDAAkC+B,gBAAlC;AACD;;;;;;;eAEezB,M;;;;;GApDQF,U;;AAuD1B,eAAeI,WAAf","sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2021\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport settings from 'carbon-components/es/globals/js/settings';\nimport { html, property, query, customElement, LitElement } from 'lit-element';\nimport { TABLE_COLOR_SCHEME } from './defs';\nimport BXTableRow from './table-row';\nimport styles from './data-table.scss';\n\nconst { prefix } = settings;\n\n/**\n * Data table body.\n * @element bx-table-body\n */\n@customElement(`${prefix}-table-body`)\nclass BXTableBody extends LitElement {\n  /**\n   * The `<slot>` element in the shadow DOM.\n   */\n  @query('slot')\n  private _slotNode!: HTMLSlotElement;\n\n  /**\n   * Updates `even`/`odd` properties of the child `<bx-table-row>`s.\n   */\n  private _updateZebra() {\n    const { colorScheme, _slotNode: slotNode } = this;\n    slotNode.assignedNodes().forEach(node => {\n      if (node.nodeType === Node.ELEMENT_NODE) {\n        const odd = (node as HTMLElement).matches('*:nth-of-type(odd)');\n        (node as BXTableRow).even = colorScheme === TABLE_COLOR_SCHEME.ZEBRA && !odd;\n        (node as BXTableRow).odd = colorScheme === TABLE_COLOR_SCHEME.ZEBRA && odd;\n      }\n    });\n  }\n\n  /**\n   * Handles `slotchange` event in the `<slot>` element in the shadow DOM.\n   */\n  private _handleSlotChange = () => {\n    this._updateZebra();\n  };\n\n  /**\n   * The color scheme.\n   */\n  @property({ reflect: true, attribute: 'color-scheme' })\n  colorScheme = TABLE_COLOR_SCHEME.REGULAR;\n\n  connectedCallback() {\n    if (!this.hasAttribute('role')) {\n      this.setAttribute('role', 'rowgroup');\n    }\n    super.connectedCallback();\n  }\n\n  updated(changedProperties) {\n    if (changedProperties.has('colorScheme')) {\n      this._updateZebra();\n    }\n  }\n\n  render() {\n    const { _handleSlotChange: handleSlotChange } = this;\n    return html` <slot @slotchange=\"${handleSlotChange}\"></slot> `;\n  }\n\n  static styles = styles;\n}\n\nexport default BXTableBody;\n"],"file":"table-body.js"}