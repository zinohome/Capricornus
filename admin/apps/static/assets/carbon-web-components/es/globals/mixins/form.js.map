{"version":3,"sources":["globals/mixins/form.ts"],"names":["on","FormMixin","Base","FormMixinImpl","connectedCallback","form","closest","_hFormdata","_handleFormdata","bind","disconnectedCallback","release"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,EAAP,MAAe,yCAAf;;AAGA;AACA;AACA;AACA;AACA,MAAMC,SAAS,GAAwCC,IAArC,IAAiD;AACjE;AACF;AACA;AACE,QAAeC,aAAf,SAAqCD,IAArC,CAA0C;AAAA;AAAA;;AAAA,0CAKZ,IALY;AAAA;;AAaxCE,IAAAA,iBAAiB,GAAG;AAClB;AACA,YAAMA,iBAAN;AACA,YAAMC,IAAI,GAAG,KAAKC,OAAL,CAAa,MAAb,CAAb;;AACA,UAAID,IAAJ,EAAU;AACR,aAAKE,UAAL,GAAkBP,EAAE,CAACK,IAAD,EAAO,UAAP,EAAmB,KAAKG,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAnB,CAApB;AACD;AACF;;AAEDC,IAAAA,oBAAoB,GAAG;AACrB,UAAI,KAAKH,UAAT,EAAqB;AACnB,aAAKA,UAAL,GAAkB,KAAKA,UAAL,CAAgBI,OAAhB,EAAlB;AACD,OAHoB,CAIrB;;;AACA,YAAMD,oBAAN;AACD;;AA5BuC;;AA8B1C,SAAOP,aAAP;AACD,CAnCD;;AAqCA,eAAeF,SAAf","sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport on from 'carbon-components/es/globals/js/misc/on';\nimport Handle from '../internal/handle';\n\n/**\n * @param Base The base class.\n * @returns A mix-in to handle `formdata` event on the containing form.\n */\nconst FormMixin = <T extends Constructor<HTMLElement>>(Base: T) => {\n  /**\n   * A mix-in class to handle `formdata` event on the containing form.\n   */\n  abstract class FormMixinImpl extends Base {\n    /**\n     * The handle for `formdata` event listener on the containing form.\n     * @private\n     */\n    _hFormdata: Handle | null = null; // Not using TypeScript `private` due to: microsoft/TypeScript#17744\n\n    /**\n     * Handles `formdata` event.\n     * @param event The event.\n     */\n    abstract _handleFormdata(event: Event): void;\n\n    connectedCallback() {\n      // @ts-ignore\n      super.connectedCallback();\n      const form = this.closest('form');\n      if (form) {\n        this._hFormdata = on(form, 'formdata', this._handleFormdata.bind(this));\n      }\n    }\n\n    disconnectedCallback() {\n      if (this._hFormdata) {\n        this._hFormdata = this._hFormdata.release();\n      }\n      // @ts-ignore\n      super.disconnectedCallback();\n    }\n  }\n  return FormMixinImpl;\n};\n\nexport default FormMixin;\n"],"file":"form.js"}