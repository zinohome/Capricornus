{"version":3,"sources":["globals/mixins/focus.ts"],"names":["selectorTabbable","FocusMixin","Base","focus","shadowRoot","delegatesFocus","delegateTarget","querySelector"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,gBAAT,QAAiC,aAAjC;AAEA;AACA;AACA;AACA;;AACA,MAAMC,UAAU,GAAwCC,IAArC,IACjB,cAAcA,IAAd,CAAmB;AACjB;AACJ;AACA;AACIC,EAAAA,KAAK,GAAG;AACN;AACA,QAAI,KAAKC,UAAL,CAAiBC,cAArB,EAAqC;AACnC,YAAMF,KAAN;AACD,KAFD,MAEO;AACL,YAAMG,cAAc,GAAG,KAAKF,UAAL,CAAiBG,aAAjB,CAA+BP,gBAA/B,KAAoD,KAAKO,aAAL,CAAmBP,gBAAnB,CAA3E;;AACA,UAAIM,cAAJ,EAAoB;AACjBA,QAAAA,cAAD,CAAgCH,KAAhC;AACD,OAFD,MAEO;AACL,cAAMA,KAAN;AACD;AACF;AACF;;AAhBgB,CADrB;;AAoBA,eAAeF,UAAf","sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { selectorTabbable } from '../settings';\n\n/**\n * @param Base The base class.\n * @returns A mix-in implementing `.focus()` method that focuses on the first focusable element in the shadow DOM.\n */\nconst FocusMixin = <T extends Constructor<HTMLElement>>(Base: T) =>\n  class extends Base {\n    /**\n     * Focuses on the first focusable element in the shadow DOM.\n     */\n    focus() {\n      // @ts-ignore: Until `delegatesFocus` is added to `ShadowRoot` definition\n      if (this.shadowRoot!.delegatesFocus) {\n        super.focus();\n      } else {\n        const delegateTarget = this.shadowRoot!.querySelector(selectorTabbable) || this.querySelector(selectorTabbable);\n        if (delegateTarget) {\n          (delegateTarget as HTMLElement).focus();\n        } else {\n          super.focus();\n        }\n      }\n    }\n  };\n\nexport default FocusMixin;\n"],"file":"focus.js"}